<h1>Compatible Roommates in <%= params[:city] %></h1>

<% if @results.present? %>
  <table border="1">
    <tr>
      <th>Name</th>
      <th>Industry</th>
      <th>Graduation Year</th>
      <th>Compatibility Bio</th>
      <th>Details</th>
    </tr>

    <% @results.each do |result| %>
      <tr>
        <td><%= result[:alum].name %></td>
        <td><%= result[:alum].industry %></td>
        <td><%= result[:alum].graduation_year %></td>
        <td>
          <% if result[:compatibility_bio].present? %>
            <%= result[:compatibility_bio] %>
          <% else %>
            Compatibility bio not available.
          <% end %>
        </td>
        <td><%= link_to "View Profile", alum_path(result[:alum]) %></td>
      </tr>
    <% end %>
  </table>
<% else %>
  <p>No compatible roommates found for the selected criteria.</p>
<% end %>

<a href="<%= find_roommates_path %>">Search Again</a>
